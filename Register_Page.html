<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register Page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
    <!-- --------------------------------------------------------------------------------------- -->
    <style>
        form {
            margin-right: 50px;
            margin-top: 30px;
        }

        h2 {
            text-align: center;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-weight: bold;
            font-style: italic;
            margin-top: 30px;
        }

        .mb-3 {
            margin-left: 20px;
            margin-right: 20px;
            padding-bottom: 25px;
        }

        .form-control label {
            display: inline-block;
            margin-bottom: 5px;
        }

        .form-control .success input {
            border-color: #2ecc71;
        }

        .form-control .error input {
            border-color: #e74c3c;
        }

        .form-control .success i.fa-check-circle {
            color: #2ecc71;
            visibility: visible;
        }

        .form-control .error i.fa-exclamation-circle {
            color: #e74c3c;
            visibility: visible;
        }

        .form-control i {
            visibility: hidden;
            position: absolute;
            top: 40px;
            right: 10px;
        }


        .form-control .error small {
            visibility: visible;
            color: #e74c3c;
        }

        .form-control small {
            visibility: hidden;
            position: absolute;
            bottom: 0;
            left: 0;
        }

        label {
            color: maroon;
            font-size: large;
        }

        .btn {
            float: right;
            margin-right: 10px;
            margin-left: 2px;
        }

        .btn-secondary {
            margin-right: -18px;
        }
    </style>
    <!-- ---------------------------------------------------------------------------------------- -->
</head>

<body onload="Reload();">
    <h2>Hello in our Register Page </h2>
    <div id="error"></div>
    <form class="form" id="form" method="get">
        <div class="mb-3 f1 form-control success" id="na">
            <label for="name" class="form-label">Name</label>
            <input name="username" value="" type="text" required class="form-control" placeholder="full name" id="name">
            <div class="error" id="name_error"></div>
            <i class="fas fa-check-circle"></i>
            <i class="fas fa-exclamation-circle"></i>
            <small>Error message</small>
        </div>

        <!--  <div class="mb-3 form-control error"> -->
        <div class="mb-3 form-control" id="em">
            <label for="email" class="form-label">Email address</label>
            <input name="useremail" value="" type="email" required class="form-control" placeholder="name@example.com"
                id="email">
            <div class="error" id="email_error"></div>
            <i class="fas fa-check-circle"></i>
            <i class="fas fa-exclamation-circle"></i>
            <small>Error message</small>
        </div>

        <div class="mb-3 form-control" id="ps">
            <label for="password" class="form-label">Password</label>
            <input name="userpass" value="" type="password" required class="form-control" placeholder="**********"
                id="password">
            <div class="error" id="pass_error"></div>
            <i class="fas fa-check-circle"></i>
            <i class="fas fa-exclamation-circle"></i>
            <small>Error message</small>
        </div>


        <div class="mb-3 form-control" id="ph">
            <label for="phoneNumber" class="form-label">Phone Number</label>
            <input name="phoneNumber" required value="" type="tel" class="form-control" placeholder="012345669665"
                id="phoneNumber">
            <div class="error" id="phone_error"></div>
            <i class="fas fa-check-circle"></i>
            <i class="fas fa-exclamation-circle"></i>
            <small>Error message</small>
        </div>
        <button type="button" class="btn btn-secondary" onclick="back();">Cancel</button>
        <!-- <button type="button" class="btn btn-success" onclick="checkData();">Register</button> -->
        <button type="submit" class="btn btn-success" onclick="saveData()">Register</button>
        <!-- <button type="submit">submit</button> -->
    </form>
    <!-- ---------------------------------------comment------------------------------------------------ -->
    <!-- <script>
        function back(){
            open("login-page.html","","width:auto,height:auto");
        }

        window.addEventListener("load",function(){

        UserName.addEventListener("blur",checkUserName);

        Email.addEventListener("blur",checkEmail);

        Password.addEventListener("blur",checkPassword);

        PhoneNo.addEventListener("blur",checkPhoneNo);

});    // end load

function checkUserName(){
    var str=UserName.value
   console.log(str);
   if(str.length<8||str.length>20){
       logUser.innerText="Plz Enter ur Name rang 5-10";
       return false;
   }
   else{
    logUser.innerText="";
       return true;
   }

}


//  function checkEmail(){
//     var emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;
//     var str=Email.value;
//     console.log(emailPattern.test(str));
//     if(emailPattern.test(str)){
//         logEmail="Plz Enter Email Correct";
//         return true;
//     }else{
//         return false;
//     }
// }    


// function checkPassword(){
//     var passPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;
//     var str=Password.value;
//     console.log(passPattern.test(str));
//     if(passPattern.test(str)){
//         logPass="Plz Enter Password Correct";
//         return true;
//     }else{
//         return false;
//     }
// }    


// function checkPhoneNo(){
//     var phonePattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;
//     var str=PhoneNo.value;
//     console.log(phonePattern.test(str));
//     if(phonePattern.test(str)){
//         logPhone="Plz Enter Phone Correct";
//         return true;
//     }else{
//         return false;
//     }
// }


   
//    function validate(){
//        var user=document.getElementById("logUser");
//        var email=document.getElementById("logEmail");
//        var pass=document.getElementById("logPass");
//        var phone=document.getElementById("logPhone");
      
       
//        if(user==""||email==""||pass==""||phone==""||user.length<9||email.length<9||pass.length<9||phone.length<11){
//            alert("You Should fill all data and enter that by the valid form");
//        }
//        sp=0;
//        for(i=0;i<user.length;1++){
//         ch=user.charAt(i);
//         if(ch==' '){
//             sp=1;
//         }
//         if(sp==1){
//             alert("plz enter your name without spaces");
//         }
//        }

//        alert("Welcome...Would you save data to open outo save .?");
//    }
   
   </script> -->

    <!--************************************************************************************************* -->
    <!-- <script> 
   // get element for input tag by id 
       const form=document.getElementById("form");
       const name=document.getElementById("UserName");
       const email=document.getElementById("Email");
       const password=document.getElementById("Pass");
       const phone=document.getElementById("TelNumber");

    // addeventlistener for form which have id ("form")
    form.addEventListener('submit',(e)=>{
        e.preventDefault();
        checkInputs();
    });
   function checkInputs(){
       // get the values from the inputs 
      const usernameValue =name.value.trim();
      const emailValue= email.value.trim();
      const passwordValue=  password.value.trim();
      const phoneValue= phone.value.trim();

 // ---------------------------check user name---------------------------
      if(usernameValue===''){
          setErrorFor(username,'User name cannot be blank');
      }
      else{
         setSuccessFor(username);
      }
      setErrorFor(username);

 // ----------------------------check syntax email-----------------------
      if(emailValue===''){
        setErrorFor(email,'Email cannot be blank');
       }
      else if(! isEmail(emailValue)){
        setErrorFor(email,'Email is not valid');
      }
      else{
        setSuccessFor(email);
      }
// ------------------------------ check password---------------------------
      if(passwordValue===''){
          setErrorFor(password,'Password can not be blank')
      }
      else{
          setSuccessFor(password)
      }
// ------------------------------ check phone number---------------------------
    if(phoneValue===''){
        setErrorFor(phone,'Phone cannot be blank');
       }
      else if(! isPhoneNumber(phoneValue)||phoneValue<11){
        setErrorFor(phone,'Phone is not valid');
      }
      else{
        setSuccessFor(phone);
      }

}
//---------------------------------Test All Functions----------------------------
  function setErrorFor(input,message){
    const formControl=input.parentElement;
    const small=formControl.querySelector('small');
    small.innerText=message;
    formControl.className='form-control error';
  }


  function setSuccessFor(input){
     const formControl=input.parentElement;
    formControl.className='form-control success';
   }

  function isEmail(email){
     return /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(email);
  }

  function isPhoneNumber(phone){
     return /^[0-9]{11}$/.test(phone);
  }


//   function Valid(){
//       console.log(setSuccessFor());
//       console.log(setErrorFor());
//       console.log(isEmail());
//       console.log(isPhoneNumber());
//       return  setSuccessFor()&& setErrorFor()&&isEmail()&&isPhoneNumber();
//   }
   </script> -->
    <!--************************************************************************************************* -->
    <script>
        function Reload() {
            alert("Hello ... to create a new account must be fill all next data ");
        }
        function back() {
            open("login-page.html", "", "width:auto , height:auto");
        }

        //    const form=document.getElementById("form");
        //    const name=document.getElementById("UserName");
        //    const email=document.getElementById("Email");
        //    const password=document.getElementById("Pass");
        //    const phone=document.getElementById("TelNumber");
        //    const errorElement=document.getElementById('error');


        //addeventlistener for form which have id ("form")
        // form.addEventListener("submit",(e)=>{
        // let messages=[];
        // if(name.value==""||name.value==null){
        //    // messages.push('Name must be required');
        //    alert("must be requird");
        // }
        // else if (name.value.length<4){
        //     alert("Name must be larger than 4 character");
        // }
        // else{
        //     alert("your name be valid");0
        // }
        // if(password.value.length<=6 || password.value==""){
        //     messages.push('Password is not be valid');
        // }

        // else if(password.value.length>=20){
        //     messages.push('Password must be less than 20 characters');
        // }

        // else if(password.value==='password'){
        //     messages.push('Password can not be a  "password" ');
        // }

        // else if(messages.length>0){
        //     e.preventDefault();
        //     errorElement.innerText=messages.join(',');
        // }
        // else{
        //    alert('All Data is valid ');
        // }

        // });



        //**********************************************************************************************************************
        //this function used to checked and validate data which entered in input form

        /*validation */

        // inputs
        var form = document.getElementById("form");
        var Useranme = document.getElementById("name");
        var Email = document.getElementById("email");
        var Password = document.getElementById("password");
        var Phone = document.getElementById("phoneNumber");

        // errors
        var name_error = document.getElementById('name_error');
        var email_error = document.getElementById('email_error');
        var pass_error = document.getElementById('pass_error');
        var phone_error = document.getElementById('phone_error');

        let div1 = document.createElement("div");
        div1.setAttribute("id", "name_error");

        let div2 = document.createElement("div");
        div2.setAttribute("id", "email_error");

        let div = document.createElement("div");
        div.setAttribute("id", "pass_error");

        let div4 = document.createElement("div");
        div4.setAttribute("id", "phone_error");


        form.addEventListener("submit", (e) => {
            e.preventDefault();
            checkEmail();
            checkPassword();

        });

        window.addEventListener("load", function () {

            Useranme.addEventListener("blur", checkName, true);

            Email.addEventListener("blur", checkEmail, true);

            Password.addEventListener("blur", checkPassword, true);

            Phone.addEventListener("blur", checkPhone, true)


        });

        function checkName() {
            let name = document.getElementById("name");
            console.log(name.value);
            if (name.value.length < 8 || name.value.length > 20) {
                div1.innerHTML = "Please Enter your name";
                name.setCustomValidity("Please Enter your name");
                na.append(div1);
                console.log(name_error);
                return false;
            }
            else {
                div1.innerHTML = "";
                name.setCustomValidity("");
            }

        }


        function checkPassword() {
            let password = document.getElementById("password");
            // var str1=pass_error.value;
            let passwordLength = password.value.toString().length;
            console.log(passwordLength);
            if (passwordLength >= 5 && passwordLength <= 10) {
                div.innerHTML = "";
                password.setCustomValidity("");
            }
            else {
                div.innerHTML = "Please Enter your pass rang 5-10";
                password.setCustomValidity("Please Enter your pass rang 5-10");
                ps.append(div);
                console.log(pass_error);
                return false;
            }

        }

        function checkEmail() {
            let email = document.getElementById("email");
            var emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            console.log(email.value);
            console.log(emailPattern.test(email.value));
            if (emailPattern.test(Email.value)) {
                div2.innerHTML = "";
                email.setCustomValidity("");
                // console.log("yes");
                // console.log(Email.value);
                return true;
            }
            else {
                div2.innerHTML = "Enter correct Email format";
                email.setCustomValidity("Please Enter Email");
                em.append(div2);
                console.log(email_error);
                return false;
            }


        }

        function checkPhone() {
            let phoneNumber = document.getElementById("phoneNumber");
            console.log(phoneNumber.value);
            if (phoneNumber.value.toString().length !== 11) {
                div4.innerHTML = "Please Enter your phone";
                ph.append(div4);
                phoneNumber.setCustomValidity("Please Enter your phone");
                console.log(phone_error);
                return false;
            }
            else {
                div4.innerHTML = "";
                phoneNumber.setCustomValidity("");
            }
        }

        //***********************************************************************************************************************
        // this function used to stored data in Local Storage
        // function saveData(){
        //     alert("Your Data will be save in local storage");
        // let name,email,psw,call;
        // name=document.getElementById("name");
        // email=document.getElementById("email");
        // psw=document.getElementById("psw");
        // call=document.getElementById("call");
        // localStorage.setItem("name",JSON.stringify(name.value));
        // localStorage.setItem("email",JSON.stringify(email.value));
        // localStorage.setItem("psw",JSON.stringify(psw.value));
        // localStorage.setItem("call",JSON.stringify(call.value));

        // }

        // let username =document.querySelector('#name');
        // let password =document.querySelector('#passwrod');
        // let Email =document.querySelector('#email');

        // let regBtn = document.querySelector('#registerbtn')

        // regBtn.addEventListener('click', function(element){
        //     element.preventDefault();
        //     localStorage.setItem("username",name.value);
        //      localStorage.setItem("email",email.value);
        //     localStorage.setItem("password",password.value);

        //     setTimeout(()=>{
        //         window.location='home.html'
        //     },1500);
        // })


        function saveData() {
            if (form.checkValidity() == true) { 
                addRegisteredUserToLocalStorage();

            }
        }

        function addRegisteredUserToLocalStorage() {
            let userFormObject = getUserData();
            // let users = JSON.parse(localStorage.getItem('users')) || [];
            // users.push(userFormObject);
            localStorage.setItem(`${userFormObject.username}`, JSON.stringify(userFormObject));
            let loginUser = JSON.parse(localStorage.getItem('loginUser')) || null;
            localStorage.setItem('loginUser', Email.value);
            
            window.location.href= 'home.html';
        }

        function getUserData() {
            let result = {
                'username': Useranme.value,
                'password': Password.value,
                'phone': Phone.value,
                'email': Email.value
            };
            console.log(result);
            // return object of registered user form
            return result;
        }
    </script>
</body>

</html>